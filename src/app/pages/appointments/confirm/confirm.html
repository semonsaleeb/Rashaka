<div class="container confirm-booking-step" dir="rtl">
  <div class="row g-4">
    <!-- العمود الأيسر: تفاصيل الحجز -->
    <div class="col-md-6 border border-1 py-3 rounded">
      <div class="booking-card p-4 rounded shadow-sm bg-white border">

        <!-- Specialist Info -->
        <div class="specialist-card d-flex align-items-center p-3 rounded mb-4 border bg-light">
          <div class="d-flex align-items-center gap-3">
            <!-- صورة الأخصائي -->
            <img [src]="bookingData.specialist?.image || 'assets/Images/User.svg'" 
                 alt="{{ 'CONFIRM_BOOKING.SPECIALIST_IMAGE' | translate }}" 
                 class="rounded-circle border border-2" width="60" height="60">

            <!-- بيانات الأخصائي -->
            <div>
              <h5 class="mb-1 fw-semibold text-dark">{{ bookingData.specialist?.name }}</h5>
              <div class="stars text-warning small">★★★★★</div>
            </div>
          </div>
        </div>

        <!-- Booking Details -->
        <ul class="list-unstyled mb-0">
          <li class="mb-2 d-flex align-items-center">
            <i class="bi bi-building text-primary me-2"></i>
            <img src="assets/Images/location-01 (1).svg" alt="" class="me-2" width="18">
            <span class="fw-semibold">{{ 'CONFIRM_BOOKING.BRANCH' | translate }}:</span> {{ bookingData.center?.name }}
          </li>

          @if (bookingData.center?.city?.name) {
            <li class="mb-2 d-flex align-items-center">
              <i class="bi bi-geo-alt text-danger me-2"></i>
              <img src="assets/Images/house-01.svg" alt="" class="me-2" width="18">
              <span class="fw-semibold">{{ 'CONFIRM_BOOKING.ADDRESS' | translate }}:</span> {{ bookingData.center?.city?.name }}
            </li>
          }

          @if (bookingData.center?.phone) {
            <li class="mb-2 d-flex align-items-center">
              <i class="bi bi-telephone text-success me-2"></i>
              <img src="assets/Images/contact-02.svg" alt="" class="me-2" width="18">
              <span class="fw-semibold">{{ 'CONFIRM_BOOKING.PHONE' | translate }}:</span> {{ bookingData.center?.phone }}
            </li>
          }

          <li class="mb-2 d-flex align-items-center">
            <i class="bi bi-calendar-event text-info me-2"></i>
            <img src="assets/Images/calendar-02.svg" alt="" class="me-2" width="18">
            <span class="fw-semibold">{{ 'CONFIRM_BOOKING.DATE' | translate }}:</span> {{ bookingData.date }}
          </li>

          <li class="d-flex align-items-center">
            <i class="bi bi-clock text-warning me-2"></i>
            <span class="fw-semibold">{{ 'CONFIRM_BOOKING.TIME' | translate }}:</span> {{ 'CONFIRM_BOOKING.FROM' | translate }} {{ bookingData.start }}
          </li>
        </ul>
      </div>
    </div>

    <!-- أزرار التحكم -->
    <div class="d-flex justify-content-between mt-4">
      <button class="btn btn-secondary" (click)="prev.emit()">{{ 'BUTTONS.PREVIOUS' | translate }}</button>
      <button class="btn btn-success" (click)="confirmBooking()">{{ 'BUTTONS.CONFIRM' | translate }}</button>
    </div>
  </div>
</div>

<!-- Popup Modal -->
<div class="modal fade" id="successModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center p-4" style="border-radius: 12px;">
      <button type="button" class="btn-close ms-auto" data-bs-dismiss="modal" [attr.aria-label]="'MODAL.CLOSE' | translate"></button>
      <div style="text-align: center;">
        <img src="assets/Images/Authentication-cuate 1.svg" 
             alt="{{ 'CONFIRM_BOOKING.SUCCESS_IMAGE' | translate }}" 
             class="mb-3" style="width:300px;">
      </div>
      <h5 class="fw-bold">{{ 'CONFIRM_BOOKING.SUCCESS_TITLE' | translate }}</h5>
      <p class="text-muted small">{{ 'CONFIRM_BOOKING.SUCCESS_MESSAGE' | translate }}</p>
      <div class="d-flex gap-2 mt-3">
        <button class="btn btn-outline-secondary flex-fill" data-bs-dismiss="modal" (click)="goHome()">
          {{ 'BUTTONS.GO_HOME' | translate }}
        </button>
        <button class="btn btn-success flex-fill" (click)="goToReservations()">
          {{ 'BUTTONS.VIEW_BOOKING' | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
