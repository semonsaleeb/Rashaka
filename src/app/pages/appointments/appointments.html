<!-- ๐ Popup Modal -->
<div class="modal fade" id="authModal" tabindex="-1" aria-labelledby="authModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-4 p-3">
      <div class="d-flex justify-content-end">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="ุฅุบูุงู"></button>
      </div>
      <div class="text-center mb-3">
        <img src="assets/Images/Enter OTP-cuate 1.svg" alt="Login Illustration" style="max-width: 200px;">
      </div>
      <h5 class="text-center fw-bold mb-2">ูุฑุฌู ุชุณุฌูู ุงูุฏุฎูู ุฃู ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ ูููุชุงุจุนุฉ.</h5>
      <div class="d-flex justify-content-center gap-3 mt-3">
        <button class="btn btn-outline-secondary px-4" (click)="goToRegister()" data-bs-dismiss="modal">
          ุฅูุดุงุก ุงูุญุณุงุจ
        </button>
        <button class="btn btn-success px-4" (click)="goToLogin()" data-bs-dismiss="modal">
          ุชุณุฌูู ุงูุฏุฎูู
        </button>
      </div>
    </div>
  </div>
</div>


<!-- ๐ ุงูุตูุญุฉ ุชุธูุฑ ุจุณ ูู ุงููุณุชุฎุฏู ุนุงูู Login -->
@if (token) {
<div class="container py-4 mt-lg-5">



  <!-- ุงูุนููุงู ุงูุฑุฆูุณู -->
  <h4 class="fw-bold text-success text-center py-4">
    ุงูุขู ุชูุฏุฑ ุชุณูู ุงููุญุต ุงูุดุงูู ูุชุชุนุฑู ุนูู ุชูุงุตูู ุฌุณูู
  </h4>
  <p class="text-muted text-center">
    ุงุญุตู ุนูู ูุญุต ู ุงุณุชุดุงุฑุฉ ูุงูุชุดุงู ุงูุฏููู ู ุดุฏ ุงูุชุฑููุงุช ู ุงุฒุงูุฉ ุงูุณูููููุช
  </p>
  <!-- ูุณุฎุฉ ุงูููุจุงูู (Stepper ุฃููู ุฃุนูู ุงูุตูุญุฉ) -->
  <div class="d-flex justify-content-between align-items-center px-2 py-3 d-md-none" dir="rtl">
    <div class="text-center">
      <img [src]="step >= 2 ? 'assets/Images/Frame 1000005990.svg' : 'assets/Images/Frame 1000005993.svg'" width="70">
      <div class="small">ุงุฎุชุฑ ุงููุฑุน</div>
    </div>
    <div class="text-center">
      <img [src]="step >= 3 ? 'assets/Images/Frame 1000005990.svg' : 'assets/Images/Frame 1000005991.svg'" width="70">
      <div class="small">ุงุฎุชุฑ ุงูุฃุฎุตุงุฆู</div>
    </div>
    <div class="text-center">
      <img [src]="step > 3 ? 'assets/Images/Frame 1000005990.svg' : 'assets/Images/Frame 1000005992.svg'" width="70">
      <div class="small">ุชุฃููุฏ ุงูุญุฌุฒ</div>
    </div>
  </div>
  <div class="row mt-4">
    <!-- Left side (ุงููุญุชูู) -->
    <div class="col-md-8">
      @switch (step) {
      @case (1) {
      <app-branch (next)="goToStep(2)"></app-branch>
      }
      @case (2) {
      <app-spicialist (prev)="goToStep(1)" (next)="goToStep(3)"></app-spicialist>
      }
      @case (3) {
      <app-confirm (prev)="goToStep(2)"></app-confirm>
      }
      }
    </div>

    <!-- Right side (steps indicator) ูุณุฎุฉ ุงูุฏูุณูุชูุจ -->
    <div class="col-md-4 d-none d-md-block" dir="rtl">
      <div class="card p-3 rounded-4 shadow-sm">

        <!-- Step 1 -->
        <div class="mb-4 d-flex align-items-start" [class.text-success]="step >= 2">
          <i class="bi bi-geo-alt fs-4 me-3"></i>
          <div>
            <div class="d-flex align-items-center gap-2">
              @if (step >= 2) {
              <img src="assets/Images/Frame 1000005990.svg" style="width: 70px; height: 70px;">
              } @else {
              <img src="assets/Images/Frame 1000005993.svg" style="width: 70px; height: 70px;">
              }
              <h6 class="mb-0">ุงุฎุชุฑ ุงููุฑุน ุงูุฃูุฑุจ ูู</h6>
            </div>
            <p class="text-muted small px-3">
              ุงุจุญุซ ุนู ุฃูุฑุจ ูุฑุน ููููุนู ุงูุฌุบุฑุงูู <br>
              ุงุฎุชุฑ ุงููุฑุน ุงูุฃูุณุจ ูุชุณููู ุญุถูุฑู ููุฌูุณุฉ
            </p>
          </div>
        </div>

        <!-- Step 2 -->
        <div class="mb-4 d-flex align-items-start" [class.text-success]="step >= 3">
          <i class="bi bi-person fs-4 me-3"></i>
          <div>
            <div class="d-flex align-items-center gap-2">
              @if (step >= 3) {
              <img src="assets/Images/Frame 1000005990.svg" style="width: 70px; height: 70px;">
              } @else {
              <img src="assets/Images/Frame 1000005991.svg" style="width: 70px; height: 70px;">
              }
              <h6 class="mb-0">ุงุฎุชุฑ ุงูุฃุฎุตุงุฆู ู ุงููุนุงุฏ</h6>
            </div>
            <p class="text-muted small px-3">
              ุงุฎุชุฑ ุงูุฃุฎุตุงุฆู ุงูููุงุณุจ ูุญุงูุชู ุงูุตุญูุฉ <br>
              ุญุฏุฏ ุงูููุช ุงููุชุงุญ ูุงูููุงุณุจ ูู
            </p>
          </div>
        </div>

        <!-- Step 3 -->
        <div class="d-flex align-items-start" [class.text-success]="step > 3">
          <i class="bi bi-check2-circle fs-4 me-3"></i>
          <div>
            <div class="d-flex align-items-center gap-2">
              @if (step > 3) {
              <img src="assets/Images/Frame 1000005990.svg" style="width: 70px; height: 70px;">
              } @else {
              <img src="assets/Images/Frame 1000005992.svg" style="width: 70px; height: 70px;">
              }
              <h6 class="mb-0">ุชุฃููุฏ ุงูุญุฌุฒ</h6>
            </div>
            <p class="text-muted small px-3">
              ุฑุงุฌุน ุชูุงุตูู ุงูุญุฌุฒ ุงูุฎุงุตุฉ ุจู <br>
              ูู ุจุชุฃููุฏ ุงูุญุฌุฒ ูุฅููุงู ุงูุนูููุฉ
            </p>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
}
