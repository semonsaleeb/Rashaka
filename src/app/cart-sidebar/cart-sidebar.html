<div class="offcanvas offcanvas-end" dir="rtl" tabindex="-1" id="cartSidebar" aria-labelledby="cartSidebarLabel">
  <div class="offcanvas-header">
    <h5 id="cartSidebarLabel" class="fw-bold">ðŸ›’ Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h5>

    <button type="button" class="btn btn-success w-100 mt-3" data-bs-dismiss="offcanvas">
      Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø³Ù„Ø©
    </button>
  </div>
  <div class="offcanvas-body">

    <!-- Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù„ÙŠ Ø¥Ù†ØªÙŠ ÙƒØªØ¨Ø§Ù‡ -->
    <div class="col-12">
      <h6 class="mb-4 text-end">
        <img src="assets/Images/delivery.svg" class="me-2" style="max-height: 22px;">
        <span> Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ Ù„Ù„Ø·Ù„Ø¨Ø§Øª Ø£ÙƒØ«Ø± Ù…Ù† </span>
        <strong>1000 Ø±ÙŠØ§Ù„</strong>
      </h6>

      <div class="progress border border-c mb-3" style="height: 10px;">
        <div class="progress-bar" role="progressbar" [style.width.%]="progressValue"
          [attr.aria-valuenow]="progressValue" aria-valuemin="0" aria-valuemax="100" style="background-color: #2EA2CC;">
        </div>
      </div>

      @for (item of cartItems; track item) {
      <div class="card mb-3 shadow-sm border-1 rounded-4 p-2" style="background-color: #FAFAFA;">
        <div class="row g-2 align-items-center">
          <div class="col-3 text-center">
            <div class="col-3 text-center">
              @if (item.images && item.images.length > 0) {
              <img [src]="item.images[0]" class="img-fluid rounded-3" style="max-height: 70px;">
              } @else {
              <img src="assets/Images/placeholder.png" class="img-fluid rounded-3" style="max-height: 70px;">
              }
            </div>
          </div>
          <div class="col-9">
            <div class="card-body mx-lg-3 text-end p-2">
              <h6 class="card-title fw-bold">{{ item.product_name_ar }}</h6>
              <div class="small">
                @if ((+item.sale_unit_price! > 0) && (+item.sale_unit_price! !== +item.unit_price!)) {
                <span class="fw-bold text-success ms-2">{{ item.sale_unit_price }} Ø±.Ø³</span>
                <span class="text-muted text-decoration-line-through">{{ item.unit_price }} Ø±.Ø³</span>
                } @else {
                <span class="fw-bold text-dark">{{ item.unit_price }} Ø±.Ø³</span>
                }
              </div>


              <div class="d-flex align-items-center justify-content-between mt-2">
                <button class="btn btn-outline-danger btn-sm" (click)="removeItem(item.product_id)">
                  <i class="fa-solid fa-trash"></i>
                </button>
                <div class="d-flex align-items-center gap-2 ">
                  <button class="btn btn-outline-secondary btn-sm" (click)="decreaseQuantity(item.product_id)">
                    <i class="fa-solid fa-minus"></i>
                  </button>
                  <span>{{ item.quantity }}</span>
                  <button class="btn btn-outline-secondary btn-sm" (click)="increaseQuantity(item.product_id)">
                    <i class="fa-solid fa-plus"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      }
    </div>

    <!-- Ø²Ø± Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ø¹Ø±Ø¨Ø© Ø§Ù„ØªØ³ÙˆÙ‚ -->
    <a [routerLink]="['/cart']" class="btn btn-success w-100 mt-3" data-bs-dismiss="offcanvas">
      <i class="fa-solid fa-cart-shopping me-2"></i> Ø§Ù„Ø°Ù‡Ø§Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©
    </a>




  </div>
</div>