<div class="container-fluid mb-5 mt-5 py-5" style="width: 80%;">
  <a routerLink="/" class="d-block text-end text-primary mb-3" style="text-decoration: none;">
    {{ 'RESET_PASSWORD.HOME' | translate }} <i class="fas fa-chevron-left"></i>
  </a>

  <div class="row h-100">

   

    <!-- Right Side: Form -->
    <div class="col-md-6 d-flex align-items-start justify-content-center py-5">
      <div class="w-100" style="max-width: 400px;">
        <div class="container my-5">
          <h2 class="mb-4 text-center">{{ 'RESET_PASSWORD.TITLE' | translate }}</h2>

          <form (ngSubmit)="resetPassword()" class="p-3">

            <!-- كلمة المرور الجديدة -->
            <div class="mb-3 position-relative" [ngClass]="currentLang === 'ar' ? 'text-end' : 'text-start'">
              <label for="password" class="form-label">{{ 'RESET_PASSWORD.NEW_PASSWORD' | translate }}</label>
              <input [type]="showPassword ? 'text' : 'password'" id="password" [(ngModel)]="password" name="password"
                class="form-control py-2 pe-5" required minlength="8" />
              <span class="position-absolute top-50" [ngClass]="currentLang === 'ar' ? 'start-0 ps-3' : 'end-0 pe-3'"
                style="cursor: pointer;" (click)="togglePasswordVisibility()">
                <i class="fas" [class.fa-eye]="showPassword" [class.fa-eye-slash]="!showPassword">
                </i>
              </span>
            </div>

            <!-- تأكيد كلمة المرور -->
            <div class="mb-3 position-relative" [ngClass]="currentLang === 'ar' ? 'text-end' : 'text-start'">
              <label for="password_confirmation" class="form-label">{{ 'RESET_PASSWORD.CONFIRM_PASSWORD' | translate
                }}</label>
              <input [type]="showConfirmPassword ? 'text' : 'password'" id="password_confirmation"
                [(ngModel)]="password_confirmation" name="password_confirmation" class="form-control py-2 pe-5"
                required />
              <span class="position-absolute top-50" [ngClass]="currentLang === 'ar' ? 'start-0 ps-3' : 'end-0 pe-3'"
                style="cursor: pointer;" (click)="toggleConfirmPasswordVisibility()">
                <i class="fas" [class.fa-eye]="showConfirmPassword" [class.fa-eye-slash]="!showConfirmPassword">
                </i>
              </span>
            </div>


            <!-- Submit Button -->
            <button type="submit" class="btn custom-green-btn w-100 py-2" [disabled]="loading">
              {{ loading ? ('RESET_PASSWORD.LOADING' | translate) : ('RESET_PASSWORD.SUBMIT' | translate) }}
            </button>

            <!-- Feedback Messages -->
            @if (message) {
            <div class="text-success mt-3 text-center">{{ message }}</div>
            }
            @if (errorMessage) {
            <div class="text-danger mt-3 text-center">{{ errorMessage }}</div>
            }

          </form>

        </div>
      </div>
    </div>

     <!-- Left Side: Image -->
    <div class="col-md-6 d-none d-md-flex align-items-center justify-content-center p-0">
      <img src="assets/Images/login.png" alt="{{ 'RESET_PASSWORD.LOGIN_IMAGE' | translate }}" class="img-fluid"
        style="width: 100%; height: 100vh; object-fit: cover;">
    </div>
  </div>
</div>